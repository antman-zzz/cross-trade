<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>クロス取引手数料計算ツール</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" rel="stylesheet">
    <link href="cross-trade/cross-trade.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <div class="card">
            <div class="card-header">
                <h1>クロス取引手数料計算ツール</h1>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-12">
                        <!-- Top Row: 株価・株数入力 -->
                        <div class="row mt-3">
                            <div class="col-md-6 mb-3">
                                <label for="stock-price" class="form-label">株価（円）</label>
                                <input type="number" class="form-control" id="stock-price" placeholder="株価を入力">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="share-count" class="form-label">株数</label>
                                <input type="number" class="form-control" id="share-count" placeholder="株数を入力">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col-12">
                        <!-- Middle Row: 手数料計算 -->
                        <div>
                            
                            <div class="row">
                                <div class="col-md-6 mb-2">
                                    <label for="borrow-date-picker" class="form-label">借入日</label>
                                    <input type="date" id="borrow-date-picker" class="form-control">
                                </div>
                                <div class="col-md-6 mb-2">
                                    <label for="repay-date-picker" class="form-label">現渡日</label>
                                    <input type="date" id="repay-date-picker" class="form-control">
                                </div>
                            </div>
                            
                            <p>権利確定日: <strong id="rights-ex-date-display"></strong></p>
                            <p>現渡日: <strong id="genwatashi-display"></strong></p>
                            <p class="text-muted" style="font-size: 0.8em;">※受渡日が祝日の場合は翌営業日まで手数料がかかります（<a href="https://www8.cao.go.jp/chosei/shukujitsu/gaiyou.html" target="_blank">国民の祝日</a>）</p>
                            
                        </div>
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col-md-6 col-12">
                        <!-- Bottom-Left: 手数料計算結果 -->
                        <div class="alert alert-info mt-4">
                            <h4>手数料</h4>
                            <p>貸株料（費用）: <strong id="result">0</strong> 円（1日当たり、<span id="daily-cost">0</span> 円）</p>
                            <p>貸株日数: <span id="days"></span> 日</p>
                            <p>貸株料率（年利）: 3.9%</p>
                        </div>
                    </div>
                    <div class="col-md-6 col-12">
                        <!-- Bottom-Right: 必要資金 -->
                        <div class="alert alert-secondary mt-4">
                            <h4>必要資金</h4>
                            <p>現物買いの必要資金: <strong id="cash-buy-funds">0</strong> 円</p>
                            <p>信用売りの必要資金: <strong id="short-sell-funds">0</strong> 円 <span class="text-muted" style="font-size: 0.8em;">※売買代金の31％（最低30万円）として計算</span></p>
                            <p>合計の必要資金: <strong id="total-funds">0</strong> 円</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://npmcdn.com/flatpickr/dist/l10n/ja.js"></script>
    <script src="cross-trade.js"></script>
</body>
</html>
